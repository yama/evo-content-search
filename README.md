# evo-content-search

## 概要

MODX Evolution用のコンテンツ検索スニペットです。コンテンツ検索に適したインデックスを作成し、キーワード検索を行うことができます。

## 特長

- インデックスの作成による高速な検索
- `[*content*]` の内容をパースした結果を検索対象にすることができます
- コンテンツ中に含まれるキーワード数や更新日時を考慮した検索結果のソート
- テーマの変更によるカスタマイズ
- セキュリティを考慮した設計

## 動作環境

MODX Evolution 1.1.1以降(※開発中のためdevelopブランチのみ対応)

## インストレーション

### ファイルの配置

ContentSearchフォルダ内のファイルを `assets/snippets/ContentSearch/` に配置します。

### スニペットの作成

以下のコードをスニペット新規作成画面に貼り付けます。

```php
return include MODX_BASE_PATH . 'assets/snippets/ContentSearch/bootstrap.php';
```

### テンプレートにスニペットを配置

テンプレートまたはリソースの適当な場所にスニペットコールを配置します。

```html
[[ContentSearch]]
```

## 使い方

スニペットコールを配置すると、そこに検索フォームが表示されます。
初回アクセス時には、検索インデックスの作成が行われるため、少し時間がかかります。
キーワードを入力して検索ボタンを押すと、検索結果が表示されます。

## カスタマイズ

themesフォルダ内のファイルを編集することで、検索フォームの設定やデザインを変更できます。

### テーマの変更

```html
[[ContentSearch?theme=sample]]
```

### 検索フォームの設定

`themes/sample/config.php` を編集することで、検索フォームの設定を変更できます。

